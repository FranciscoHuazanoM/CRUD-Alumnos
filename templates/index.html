{% extends 'base.html' %}

{% block title %}Lista de Estudiantes{% endblock %}

{% block content %}

<section class="section">
  <div class="container">

    <!-- Botón Agregar -->
    <div class="mb-4">
      <a href="{{ url_for('create_estudiante') }}" class="button is-success">
        Agregar Estudiante
      </a>
    </div>

    <!-- Tabla -->
    <div class="table-container">
      <table class="table is-bordered is-striped is-fullwidth">
        <thead class="has-background-light">
          <tr>
            <th>No. control</th>
            <th>Nombre</th>
            <th>Apellido Paterno</th>
            <th>Apellido Materno</th>
            <th>Semestre</th>
            <th class="has-text-centered">Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for estudiante in estudiantes %}
          <tr>
            <td>{{ estudiante.no_control }}</td>
            <td>{{ estudiante.nombre }}</td>
            <td>{{ estudiante.ap_paterno }}</td>
            <td>{{ estudiante.ap_materno }}</td>
            <td>{{ estudiante.semestre }}</td>
            <td class="has-text-centered">
              
              <!-- Botón ACTUALIZAR -->
              <a href="{{ url_for('update_estudiante', no_control=estudiante.no_control) }}"
                 class="button is-warning is-small">
                Actualizar
              </a>

              <!-- Botón ELIMINAR -->
              <a href="{{ url_for('delete_estudiante', no_control=estudiante.no_control) }}"
                 class="button is-danger is-small">
                Eliminar
              </a>

            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>
</section>

{% endblock %}